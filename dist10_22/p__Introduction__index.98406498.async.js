(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[441],{69753:function(re,S,r){"use strict";var _=r(1413),u=r(67294),g=r(49495),F=r(91146),T=function(Z,R){return u.createElement(F.Z,(0,_.Z)((0,_.Z)({},Z),{},{ref:R,icon:g.Z}))},E=u.forwardRef(T);S.Z=E},51042:function(re,S,r){"use strict";var _=r(1413),u=r(67294),g=r(42110),F=r(91146),T=function(Z,R){return u.createElement(F.Z,(0,_.Z)((0,_.Z)({},Z),{},{ref:R,icon:g.Z}))},E=u.forwardRef(T);S.Z=E},50335:function(re,S,r){"use strict";r.d(S,{Z:function(){return b}});var _=r(1413),u=r(91),g=r(67294),F=r(66758),T=r(79211),E=r(85893),w=["proFieldProps","fieldProps"],Z="date",R=g.forwardRef(function(e,K){var Y=e.proFieldProps,k=e.fieldProps,U=(0,u.Z)(e,w),z=(0,g.useContext)(F.Z);return(0,E.jsx)(T.Z,(0,_.Z)({ref:K,valueType:Z,fieldProps:(0,_.Z)({getPopupContainer:z.getPopupContainer},k),proFieldProps:Y,filedConfig:{valueType:Z,customLightMode:!0}},U))}),M=R,H=["proFieldProps","fieldProps"],$="dateMonth",I=g.forwardRef(function(e,K){var Y=e.proFieldProps,k=e.fieldProps,U=(0,u.Z)(e,H),z=(0,g.useContext)(F.Z);return(0,E.jsx)(T.Z,(0,_.Z)({ref:K,valueType:$,fieldProps:(0,_.Z)({getPopupContainer:z.getPopupContainer},k),proFieldProps:Y,filedConfig:{valueType:$,customLightMode:!0}},U))}),N=I,v=["fieldProps"],f="dateQuarter",c=g.forwardRef(function(e,K){var Y=e.fieldProps,k=(0,u.Z)(e,v),U=(0,g.useContext)(F.Z);return(0,E.jsx)(T.Z,(0,_.Z)({ref:K,valueType:f,fieldProps:(0,_.Z)({getPopupContainer:U.getPopupContainer},Y),filedConfig:{valueType:f,customLightMode:!0}},k))}),A=c,i=["proFieldProps","fieldProps"],d="dateWeek",B=g.forwardRef(function(e,K){var Y=e.proFieldProps,k=e.fieldProps,U=(0,u.Z)(e,i),z=(0,g.useContext)(F.Z);return(0,E.jsx)(T.Z,(0,_.Z)({ref:K,valueType:d,fieldProps:(0,_.Z)({getPopupContainer:z.getPopupContainer},k),proFieldProps:Y,filedConfig:{valueType:d,customLightMode:!0}},U))}),C=B,W=["proFieldProps","fieldProps"],x="dateYear",L=g.forwardRef(function(e,K){var Y=e.proFieldProps,k=e.fieldProps,U=(0,u.Z)(e,W),z=(0,g.useContext)(F.Z);return(0,E.jsx)(T.Z,(0,_.Z)({ref:K,valueType:x,fieldProps:(0,_.Z)({getPopupContainer:z.getPopupContainer},k),proFieldProps:Y,filedConfig:{valueType:x,customLightMode:!0}},U))}),y=L,j=M;j.Week=C,j.Month=N,j.Quarter=A,j.Year=y,j.displayName="ProFormComponent";var b=j},64317:function(re,S,r){"use strict";var _=r(1413),u=r(91),g=r(22270),F=r(67294),T=r(66758),E=r(79211),w=r(85893),Z=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],R=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],M=function(f,c){var A=f.fieldProps,i=f.children,d=f.params,B=f.proFieldProps,C=f.mode,W=f.valueEnum,x=f.request,L=f.showSearch,y=f.options,j=(0,u.Z)(f,Z),b=(0,F.useContext)(T.Z);return(0,w.jsx)(E.Z,(0,_.Z)((0,_.Z)({valueEnum:(0,g.h)(W),request:x,params:d,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,_.Z)({options:y,mode:C,showSearch:L,getPopupContainer:b.getPopupContainer},A),ref:c,proFieldProps:B},j),{},{children:i}))},H=F.forwardRef(function(v,f){var c=v.fieldProps,A=v.children,i=v.params,d=v.proFieldProps,B=v.mode,C=v.valueEnum,W=v.request,x=v.options,L=(0,u.Z)(v,R),y=(0,_.Z)({options:x,mode:B||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},c),j=(0,F.useContext)(T.Z);return(0,w.jsx)(E.Z,(0,_.Z)((0,_.Z)({valueEnum:(0,g.h)(C),request:W,params:i,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,_.Z)({getPopupContainer:j.getPopupContainer},y),ref:f,proFieldProps:d},L),{},{children:A}))}),$=F.forwardRef(M),I=H,N=$;N.SearchSelect=I,N.displayName="ProFormComponent",S.Z=N},5966:function(re,S,r){"use strict";var _=r(97685),u=r(1413),g=r(91),F=r(21770),T=r(8232),E=r(55241),w=r(98423),Z=r(67294),R=r(79211),M=r(85893),H=["fieldProps","proFieldProps"],$=["fieldProps","proFieldProps"],I="text",N=function(i){var d=i.fieldProps,B=i.proFieldProps,C=(0,g.Z)(i,H);return(0,M.jsx)(R.Z,(0,u.Z)({valueType:I,fieldProps:d,filedConfig:{valueType:I},proFieldProps:B},C))},v=function(i){var d=(0,F.Z)(i.open||!1,{value:i.open,onChange:i.onOpenChange}),B=(0,_.Z)(d,2),C=B[0],W=B[1];return(0,M.jsx)(T.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(L){var y,j=L.getFieldValue(i.name||[]);return(0,M.jsx)(E.Z,(0,u.Z)((0,u.Z)({getPopupContainer:function(e){return e&&e.parentNode?e.parentNode:e},onOpenChange:function(e){return W(e)},content:(0,M.jsxs)("div",{style:{padding:"4px 0"},children:[(y=i.statusRender)===null||y===void 0?void 0:y.call(i,j),i.strengthText?(0,M.jsx)("div",{style:{marginTop:10},children:(0,M.jsx)("span",{children:i.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},i.popoverProps),{},{open:C,children:i.children}))}})},f=function(i){var d=i.fieldProps,B=i.proFieldProps,C=(0,g.Z)(i,$),W=(0,Z.useState)(!1),x=(0,_.Z)(W,2),L=x[0],y=x[1];return d!=null&&d.statusRender&&C.name?(0,M.jsx)(v,{name:C.name,statusRender:d==null?void 0:d.statusRender,popoverProps:d==null?void 0:d.popoverProps,strengthText:d==null?void 0:d.strengthText,open:L,onOpenChange:y,children:(0,M.jsx)("div",{children:(0,M.jsx)(R.Z,(0,u.Z)({valueType:"password",fieldProps:(0,u.Z)((0,u.Z)({},(0,w.Z)(d,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(b){var e;d==null||(e=d.onBlur)===null||e===void 0||e.call(d,b),y(!1)},onClick:function(b){var e;d==null||(e=d.onClick)===null||e===void 0||e.call(d,b),y(!0)}}),proFieldProps:B,filedConfig:{valueType:I}},C))})}):(0,M.jsx)(R.Z,(0,u.Z)({valueType:"password",fieldProps:d,proFieldProps:B,filedConfig:{valueType:I}},C))},c=N;c.Password=f,c.displayName="ProFormComponent",S.Z=c},37180:function(re,S,r){"use strict";r.r(S);var _=r(15009),u=r.n(_),g=r(97857),F=r.n(g),T=r(99289),E=r.n(T),w=r(5574),Z=r.n(w),R=r(6110),M=r(29966),H=r(37476),$=r(5966),I=r(64317),N=r(50335),v=r(67294),f=r(8232),c=r(2453),A=r(17788),i=r(83622),d=r(40056),B=r(78367),C=r(55102),W=r(73320),x=r(57546),L=r(58638),y=r(51042),j=r(69753),b=r(84105),e=r(85893),K=function(){var k=(0,v.useRef)(),U=(0,v.useState)([]),z=Z()(U,2),Ee=z[0],se=z[1],Ce=(0,v.useState)(!1),ie=Z()(Ce,2),ge=ie[0],te=ie[1],De=f.Z.useForm(),Fe=Z()(De,1),X=Fe[0],Ze=(0,v.useState)(!1),le=Z()(Ze,2),Oe=le[0],ae=le[1],Te=(0,v.useState)([]),de=Z()(Te,2),oe=de[0],J=de[1],Me=(0,v.useState)([]),ce=Z()(Me,2),G=ce[0],pe=ce[1],je=(0,v.useState)(!1),me=Z()(je,2),Be=me[0],ue=me[1],ye=(0,v.useState)(!1),fe=Z()(ye,2),Pe=fe[0],_e=fe[1],be=(0,v.useState)(function(){return[]}),ve=Z()(be,2),V=ve[0],q=ve[1],Q=localStorage.getItem("token"),he=function(){var s=E()(u()().mark(function t(){var n,a,p;return u()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,fetch("/api/introduction/getIntroduction",{headers:{Authorization:"Bearer ".concat(Q)}});case 3:if(n=o.sent,n.ok){o.next=6;break}throw new Error("\u7F51\u7EDC\u9519\u8BEF");case 6:return o.next=8,n.json();case 8:a=o.sent,Array.isArray(a.data)?(p=a.data.map(function(m,l){return F()(F()({},m),{},{key:m.plantingCode||m.code||l})}),q(p),J(p)):(q([]),J([])),o.next=17;break;case 12:o.prev=12,o.t0=o.catch(0),c.ZP.error("\u83B7\u53D6\u5F15\u79CD\u8BB0\u5F55\u5931\u8D25"),q([]),J([]);case 17:case"end":return o.stop()}},t,null,[[0,12]])}));return function(){return s.apply(this,arguments)}}();(0,v.useEffect)(function(){he()},[]),(0,v.useEffect)(function(){localStorage.setItem("introductionRecords",JSON.stringify(V))},[V]);var Re=function(t){te(!0),X.setFieldsValue({plantingCode:"TZ-".concat(Math.floor(Math.random()*1e3)),code:t.code,name:t.name,planCode:new Date().getFullYear().toString(),method:t.method,type:t.type,isRegular:t.isRegular,generation:t.generation,introductionTime:t.introductionTime})},Ae=function(){var s=E()(u()().mark(function t(){var n,a,p;return u()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,X.validateFields();case 3:return n=o.sent,a={plantingCode:n.plantingCode,code:n.code,name:n.name,method:n.method,type:n.type,isRegular:n.isRegular,generation:n.generation,introductionTime:n.introductionTime,sowingAmount:n.sowingAmount,planCode:n.planCode,sowingTime:new Date().toISOString().split("T")[0]},o.prev=5,o.next=8,fetch("/api/introduction/sow",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(Q)},body:JSON.stringify(a)});case 8:p=o.sent,p.ok?(c.ZP.success("\u64AD\u79CD\u8868\u5DF2\u751F\u6210\u5E76\u4FDD\u5B58\u5230\u6570\u636E\u5E93"),te(!1),X.resetFields()):c.ZP.error("\u751F\u6210\u64AD\u79CD\u8868\u5931\u8D25"),o.next=15;break;case 12:o.prev=12,o.t0=o.catch(5),c.ZP.error("\u7F51\u7EDC\u9519\u8BEF\uFF0C\u8BF7\u91CD\u8BD5");case 15:o.next=20;break;case 17:o.prev=17,o.t1=o.catch(0),c.ZP.error("\u8868\u5355\u9A8C\u8BC1\u5931\u8D25");case 20:case"end":return o.stop()}},t,null,[[0,17],[5,12]])}));return function(){return s.apply(this,arguments)}}(),xe=function(){var t=b.P6.json_to_sheet(V.map(function(a){return{\u7F16\u53F7:a.code,\u5F15\u79CD\u540D\u79F0:a.name,\u5F15\u79CD\u65B9\u5F0F:a.method,\u54C1\u79CD\u7C7B\u578B:a.type,\u662F\u5426\u5E38\u89C4:a.isRegular,\u4E16\u4EE3:a.generation,\u5F15\u79CD\u65F6\u95F4:a.introductionTime}})),n=b.P6.book_new();b.P6.book_append_sheet(n,t,"\u5F15\u79CD\u8BB0\u5F55"),(0,b.NC)(n,"\u5F15\u79CD\u8BB0\u5F55.xlsx")},Se=function(){var s=E()(u()().mark(function t(n){var a,p;return u()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return _e(!0),o.prev=1,o.next=4,fetch("/api/introduction/ExcelImport",{method:"POST",headers:{Authorization:"Bearer ".concat(Q)},body:n});case 4:if(a=o.sent,a.ok){o.next=7;break}throw new Error("\u5BFC\u5165\u5931\u8D25");case 7:return o.next=9,a.json();case 9:p=o.sent,p.msg||p.code===200?(c.ZP.success("\u5BFC\u5165\u6210\u529F"),ue(!1),he()):(c.ZP.error(p.message||"\u5BFC\u5165\u5931\u8D25"),console.log("\u5BFC\u5165\u5931\u8D25\u54CD\u5E94:",p)),o.next=17;break;case 13:o.prev=13,o.t0=o.catch(1),console.error("\u5BFC\u5165\u5931\u8D25:",o.t0),c.ZP.error("\u5BFC\u5165\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u6587\u4EF6\u683C\u5F0F");case 17:return o.prev=17,_e(!1),o.finish(17);case 20:case"end":return o.stop()}},t,null,[[1,13,17,20]])}));return function(n){return s.apply(this,arguments)}}(),Ie=function(){var s=E()(u()().mark(function t(n){var a;return u()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.prev=0,P.next=3,fetch("/api/introduction/purification",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(Q)},body:JSON.stringify(n)});case 3:a=P.sent,a.ok?c.ZP.success("\u8F6C\u5165\u81EA\u4EA4\u7CFB\u7EAF\u5316\u6210\u529F"):c.ZP.error("\u8F6C\u5165\u81EA\u4EA4\u7CFB\u7EAF\u5316\u5931\u8D25"),P.next=10;break;case 7:P.prev=7,P.t0=P.catch(0),c.ZP.error("\u8F6C\u5165\u5931\u8D25");case 10:case"end":return P.stop()}},t,null,[[0,7]])}));return function(n){return s.apply(this,arguments)}}(),We=function(){var s=E()(u()().mark(function t(){return u()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(G.length!==0){a.next=3;break}return c.ZP.warning("\u8BF7\u9009\u62E9\u8981\u5220\u9664\u7684\u8BB0\u5F55"),a.abrupt("return");case 3:A.Z.confirm({title:"\u786E\u8BA4\u6279\u91CF\u5220\u9664",content:"\u786E\u5B9A\u8981\u5220\u9664\u9009\u4E2D\u7684 ".concat(G.length," \u6761\u8BB0\u5F55\u5417\uFF1F"),okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){var p=E()(u()().mark(function o(){var m,l,O,D;return u()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.prev=0,h.next=3,fetch("/api/introduction/BatchDeleteIntroduction",{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(Q)},body:JSON.stringify({keys:G})});case 3:return m=h.sent,h.next=6,m.json();case 6:l=h.sent,l&&(l.success||l.code===200||l.msg==="SUCCESS")?(O=V.filter(function(ee){return!G.includes(ee.code)}),D=oe.filter(function(ee){return!G.includes(ee.code)}),q(O),J(D),pe([]),c.ZP.success("\u5DF2\u5220\u9664 ".concat(G.length," \u6761\u8BB0\u5F55"))):c.ZP.error((l==null?void 0:l.msg)||"\u6279\u91CF\u5220\u9664\u5931\u8D25"),h.next=13;break;case 10:h.prev=10,h.t0=h.catch(0),c.ZP.error("\u6279\u91CF\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5");case 13:case"end":return h.stop()}},o,null,[[0,10]])}));function P(){return p.apply(this,arguments)}return P}()});case 4:case"end":return a.stop()}},t)}));return function(){return s.apply(this,arguments)}}();(0,v.useEffect)(function(){J(V)},[V]);var Le=function(t,n){var a=V,p=n.introductionTimeRange;if(p&&Array.isArray(p)){var P=Z()(p,2),o=P[0],m=P[1];a=a.filter(function(l){var O=new Date(l.introductionTime).getTime();return O>=new Date(o).getTime()&&O<=new Date(m).getTime()})}n.code&&(a=a.filter(function(l){var O;return((O=l.code)!==null&&O!==void 0?O:"").toString().includes(n.code)})),n.name&&(a=a.filter(function(l){var O;return((O=l.name)!==null&&O!==void 0?O:"").toString().includes(n.name)})),n.method&&(a=a.filter(function(l){return l.method===n.method})),n.type&&(a=a.filter(function(l){return l.type===n.type})),n.isRegular&&(a=a.filter(function(l){return l.isRegular===n.isRegular})),n.generation&&(a=a.filter(function(l){var O;return((O=l.generation)!==null&&O!==void 0?O:"").toString().includes(n.generation)})),J(a)},Ke=[{title:"\u7F16\u53F7",dataIndex:"code",editable:!1},{title:"\u5F15\u79CD\u540D\u79F0",dataIndex:"name",editable:function(){return!0}},{title:"\u5F15\u79CD\u65B9\u5F0F",dataIndex:"method",valueEnum:{\u8D2D\u4E70:{text:"\u8D2D\u4E70"},\u4EA4\u6362:{text:"\u4EA4\u6362"},\u8D60\u9001:{text:"\u8D60\u9001"},\u5176\u4ED6:{text:"\u5176\u4ED6"}},editable:function(){return!0}},{title:"\u54C1\u79CD\u7C7B\u578B",dataIndex:"type",valueEnum:{\u897F\u74DC:{text:"\u897F\u74DC"},\u751C\u74DC:{text:"\u751C\u74DC"},\u5357\u74DC:{text:"\u5357\u74DC"}},editable:function(){return!0}},{title:"\u662F\u5426\u5E38\u89C4",dataIndex:"isRegular",valueEnum:{\u662F:{text:"\u662F"},\u5426:{text:"\u5426"}},editable:function(){return!0}},{title:"\u4E16\u4EE3",dataIndex:"generation",editable:function(){return!0}},{title:"\u5F15\u79CD\u65F6\u95F4",dataIndex:"introductionTime",valueType:"dateRange",editable:!1,search:{transform:function(t){return{introductionTimeRange:t}}},render:function(t,n){return n.introductionTime?new Date(n.introductionTime).toLocaleDateString():"-"}},{title:"\u64CD\u4F5C",valueType:"option",render:function(t,n){return[(0,e.jsx)(i.ZP,{type:"link",onClick:function(){return Re(n)},children:"\u64AD\u79CD"},"sowing"),n.generation!=="F1"&&(0,e.jsx)(i.ZP,{type:"link",onClick:function(){return Ie(n)},children:"\u8F6C\u5165\u81EA\u4EA4\u7CFB\u7EAF\u5316"},"purification"),(0,e.jsx)(i.ZP,{type:"link",onClick:function(){se([n.code])},children:"\u7F16\u8F91"},"edit"),(0,e.jsx)(i.ZP,{type:"link",danger:!0,onClick:function(){A.Z.confirm({title:"\u786E\u8BA4\u5220\u9664",content:"\u786E\u5B9A\u8981\u5220\u9664\u8FD9\u6761\u8BB0\u5F55\u5417\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){var p=E()(u()().mark(function o(){var m,l,O,D;return u()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.prev=0,h.next=3,fetch("/api/introduction/introductionDelete?plantid=".concat(n.code),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 3:return m=h.sent,h.next=6,m.json();case 6:l=h.sent,l&&(l.success||l.code===200||l.msg==="SUCCESS")?(O=V.filter(function(ee){return ee.code!==n.code}),D=oe.filter(function(ee){return ee.code!==n.code}),q(O),J(D),c.ZP.success("\u5220\u9664\u6210\u529F")):c.ZP.error((l==null?void 0:l.msg)||"\u5220\u9664\u5931\u8D25"),h.next=13;break;case 10:h.prev=10,h.t0=h.catch(0),c.ZP.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5");case 13:case"end":return h.stop()}},o,null,[[0,10]])}));function P(){return p.apply(this,arguments)}return P}()})},children:"\u5220\u9664"},"delete")].filter(Boolean)}}];return(0,e.jsxs)(R._z,{children:[(0,e.jsx)(M.Z,{headerTitle:"\u5F15\u79CD\u8BB0\u5F55",actionRef:k,rowKey:function(t){return t.plantingCode||t.code||t.key||Math.random().toString()},search:{labelWidth:120},form:{onValuesChange:Le},toolBarRender:function(){return[(0,e.jsx)(i.ZP,{icon:(0,e.jsx)(x.Z,{}),onClick:function(){return ue(!0)},children:"\u5BFC\u5165Excel"},"import"),(0,e.jsx)(i.ZP,{icon:(0,e.jsx)(L.Z,{}),onClick:xe,children:"\u5BFC\u51FA"},"export"),(0,e.jsxs)(i.ZP,{type:"primary",onClick:function(){return ae(!0)},children:[(0,e.jsx)(y.Z,{})," \u65B0\u589E"]},"add"),(0,e.jsx)(i.ZP,{danger:!0,onClick:We,disabled:G.length===0,children:"\u6279\u91CF\u5220\u9664"},"batchDelete")]},rowSelection:{selectedRowKeys:G,onChange:function(t,n){console.log("\u9009\u4E2D\u7684\u884C:",t,n),pe(t)},preserveSelectedRowKeys:!1,getCheckboxProps:function(t){return{name:t.code}}},dataSource:oe,onReset:function(){return J(V)},editable:{type:"single",editableKeys:Ee,onChange:se,actionRender:function(t,n,a){return[a.save,a.cancel]},onSave:function(){var s=E()(u()().mark(function n(a,p){var P,o,m,l;return u()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.prev=0,D.next=3,fetch("/api/introduction/edit",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(Q)},body:JSON.stringify(p)});case 3:if(P=D.sent,!P.ok){D.next=15;break}return c.ZP.success("\u4FDD\u5B58\u6210\u529F"),D.next=8,fetch("/api/introduction/getIntroduction",{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(Q)}});case 8:return o=D.sent,D.next=11,o.json();case 11:m=D.sent,Array.isArray(m.data)&&(l=m.data.map(function(ne,h){return F()(F()({},ne),{},{key:ne.plantingCode||ne.code||h})}),q(l),J(l)),D.next=16;break;case 15:c.ZP.error("\u4FDD\u5B58\u5931\u8D25");case 16:D.next=21;break;case 18:D.prev=18,D.t0=D.catch(0),c.ZP.error("\u4FDD\u5B58\u5931\u8D25");case 21:case"end":return D.stop()}},n,null,[[0,18]])}));function t(n,a){return s.apply(this,arguments)}return t}(),onCancel:function(){var s=E()(u()().mark(function n(){return u()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:case"end":return p.stop()}},n)}));function t(){return s.apply(this,arguments)}return t}()},columns:Ke,pagination:{showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","20","50","100"],defaultPageSize:10,showTotal:function(t){return"\u5171 ".concat(t," \u6761\u8BB0\u5F55")}}}),(0,e.jsxs)(A.Z,{title:"\u5BFC\u5165Excel\u6587\u4EF6",open:Be,onCancel:function(){return ue(!1)},footer:null,width:500,children:[(0,e.jsxs)("div",{style:{marginBottom:16},children:[(0,e.jsx)(d.Z,{message:"\u5BFC\u5165\u8BF4\u660E",description:(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{children:"1. \u8BF7\u786E\u4FDDExcel\u6587\u4EF6\u683C\u5F0F\u6B63\u786E\uFF0C\u5305\u542B\u4EE5\u4E0B\u5217\uFF1A"}),(0,e.jsxs)("ul",{children:[(0,e.jsx)("li",{children:"\u7F16\u53F7"}),(0,e.jsx)("li",{children:"\u5F15\u79CD\u540D\u79F0"}),(0,e.jsx)("li",{children:"\u5F15\u79CD\u65B9\u5F0F"}),(0,e.jsx)("li",{children:"\u54C1\u79CD\u7C7B\u578B"}),(0,e.jsx)("li",{children:"\u662F\u5426\u5E38\u89C4"}),(0,e.jsx)("li",{children:"\u4E16\u4EE3"}),(0,e.jsx)("li",{children:"\u5F15\u79CD\u65F6\u95F4"})]}),(0,e.jsx)("p",{children:"2. \u5F15\u79CD\u65B9\u5F0F\u53EF\u9009\uFF1A\u8D2D\u4E70\u3001\u4EA4\u6362\u3001\u8D60\u9001\u3001\u5176\u4ED6"}),(0,e.jsx)("p",{children:"3. \u54C1\u79CD\u7C7B\u578B\u53EF\u9009\uFF1A\u897F\u74DC\u3001\u751C\u74DC\u3001\u5357\u74DC"}),(0,e.jsx)("p",{children:"4. \u662F\u5426\u5E38\u89C4\u53EF\u9009\uFF1A\u662F\u3001\u5426"}),(0,e.jsx)("p",{children:"5. \u5F15\u79CD\u65F6\u95F4\u683C\u5F0F\uFF1AYYYY-MM-DD"})]}),type:"info",showIcon:!0,style:{marginBottom:16}}),(0,e.jsx)("div",{style:{textAlign:"center",marginBottom:16},children:(0,e.jsx)(i.ZP,{type:"link",icon:(0,e.jsx)(j.Z,{}),onClick:function(){var t=document.createElement("a");t.href="https://breed-1258140596.cos.ap-shanghai.myqcloud.com/Breeding%20Platform/2024%E7%A7%8B%E5%BC%95%E7%A7%8D%E8%A1%A8-1.xls",t.download="https://breed-1258140596.cos.ap-shanghai.myqcloud.com/Breeding%20Platform/2024%E7%A7%8B%E5%BC%95%E7%A7%8D%E8%A1%A8-1.xls",document.body.appendChild(t),t.click(),document.body.removeChild(t)},style:{fontSize:"16px"},children:"\u4E0B\u8F7DExcel\u6A21\u677F"})})]}),(0,e.jsx)(B.Z,{accept:".xlsx,.xls",showUploadList:!1,customRequest:function(t){var n=t.file,a=t.onSuccess,p=t.onError,P=new FormData;P.append("file",n),Se(P).then(function(){return a==null?void 0:a(null)}).catch(function(o){return p==null?void 0:p(o)})},children:(0,e.jsx)(i.ZP,{type:"primary",icon:(0,e.jsx)(x.Z,{}),loading:Pe,style:{width:"100%",height:"40px"},children:Pe?"\u5BFC\u5165\u4E2D...":"\u9009\u62E9\u6587\u4EF6\u5E76\u5BFC\u5165"})})]}),(0,e.jsx)(A.Z,{title:"\u64AD\u79CD\u8868",visible:ge,onCancel:function(){te(!1),X.resetFields()},footer:[(0,e.jsx)(i.ZP,{onClick:function(){te(!1),X.resetFields()},children:"\u53D6\u6D88"},"cancel"),(0,e.jsx)(i.ZP,{type:"primary",onClick:function(){return X.submit()},children:"\u751F\u6210\u64AD\u79CD\u8868"},"submit")],width:600,children:(0,e.jsxs)(f.Z,{form:X,layout:"vertical",onFinish:Ae,children:[(0,e.jsx)(f.Z.Item,{label:"\u79CD\u690D\u7F16\u53F7",name:"plantingCode",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u79CD\u690D\u7F16\u53F7"}],children:(0,e.jsx)(C.Z,{})}),(0,e.jsx)(f.Z.Item,{label:"\u7F16\u53F7",name:"code",children:(0,e.jsx)(C.Z,{disabled:!0})}),(0,e.jsx)(f.Z.Item,{label:"\u54C1\u79CD\u540D\u79F0",name:"name",children:(0,e.jsx)(C.Z,{disabled:!0})}),(0,e.jsx)(f.Z.Item,{label:"\u5F15\u79CD\u65B9\u5F0F",name:"method",children:(0,e.jsx)(C.Z,{disabled:!0})}),(0,e.jsx)(f.Z.Item,{label:"\u54C1\u79CD\u7C7B\u578B",name:"type",children:(0,e.jsx)(C.Z,{disabled:!0})}),(0,e.jsx)(f.Z.Item,{label:"\u662F\u5426\u5E38\u89C4",name:"isRegular",children:(0,e.jsx)(C.Z,{disabled:!0})}),(0,e.jsx)(f.Z.Item,{label:"\u4E16\u4EE3",name:"generation",children:(0,e.jsx)(C.Z,{disabled:!0})}),(0,e.jsx)(f.Z.Item,{label:"\u5F15\u79CD\u65F6\u95F4",name:"introductionTime",children:(0,e.jsx)(C.Z,{disabled:!0})}),(0,e.jsx)(f.Z.Item,{label:"\u64AD\u79CD\u6570\u91CF",name:"sowingAmount",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u64AD\u79CD\u6570\u91CF"}],children:(0,e.jsx)(W.Z,{min:1,style:{width:"100%"}})}),(0,e.jsx)(f.Z.Item,{label:"\u8BA1\u5212\u7F16\u53F7",name:"planCode",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u8BA1\u5212\u7F16\u53F7"}],children:(0,e.jsx)(C.Z,{})})]})}),(0,e.jsxs)(H.Y,{title:"\u65B0\u589E\u5F15\u79CD\u8BB0\u5F55",open:Oe,onOpenChange:ae,onFinish:function(){var s=E()(u()().mark(function t(n){var a,p,P;return u()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.prev=0,m.next=3,fetch("/api/introduction/introductionAdd",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(Q)},body:JSON.stringify(n)});case 3:if(a=m.sent,!a.ok){m.next=17;break}return c.ZP.success("\u65B0\u589E\u6210\u529F"),ae(!1),m.next=9,fetch("/api/introduction/getIntroduction",{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(Q)}});case 9:return p=m.sent,m.next=12,p.json();case 12:return P=m.sent,Array.isArray(P.data)&&q(P.data),m.abrupt("return",!0);case 17:return c.ZP.error("\u65B0\u589E\u5931\u8D25"),m.abrupt("return",!1);case 19:m.next=25;break;case 21:return m.prev=21,m.t0=m.catch(0),c.ZP.error("\u65B0\u589E\u5931\u8D25"),m.abrupt("return",!1);case 25:case"end":return m.stop()}},t,null,[[0,21]])}));return function(t){return s.apply(this,arguments)}}(),children:[(0,e.jsx)($.Z,{name:"code",label:"\u7F16\u53F7",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7F16\u53F7"}]}),(0,e.jsx)($.Z,{name:"name",label:"\u5F15\u79CD\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5F15\u79CD\u540D\u79F0"}]}),(0,e.jsx)(I.Z,{name:"method",label:"\u5F15\u79CD\u65B9\u5F0F",options:[{label:"\u8D2D\u4E70",value:"\u8D2D\u4E70"},{label:"\u4EA4\u6362",value:"\u4EA4\u6362"},{label:"\u8D60\u9001",value:"\u8D60\u9001"},{label:"\u5176\u4ED6",value:"\u5176\u4ED6"}],rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5F15\u79CD\u65B9\u5F0F"}]}),(0,e.jsx)(I.Z,{name:"type",label:"\u54C1\u79CD\u7C7B\u578B",options:[{label:"\u897F\u74DC",value:"\u897F\u74DC"},{label:"\u751C\u74DC",value:"\u751C\u74DC"},{label:"\u5357\u74DC",value:"\u5357\u74DC"}],rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u54C1\u79CD\u7C7B\u578B"}]}),(0,e.jsx)(I.Z,{name:"isRegular",label:"\u662F\u5426\u5E38\u89C4",options:[{label:"\u662F",value:"\u662F"},{label:"\u5426",value:"\u5426"}],rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u662F\u5426\u5E38\u89C4"}]}),(0,e.jsx)($.Z,{name:"generation",label:"\u4E16\u4EE3",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u4E16\u4EE3"}]}),(0,e.jsx)(N.Z,{name:"introductionTime",label:"\u5F15\u79CD\u65F6\u95F4",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5F15\u79CD\u65F6\u95F4"}],fieldProps:{format:"YYYY-MM-DD"}})]})]})};S.default=K},20067:function(){}}]);
